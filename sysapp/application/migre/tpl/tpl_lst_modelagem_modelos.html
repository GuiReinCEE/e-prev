<html><!-- InstanceBegin template="/Templates/menu_projetos.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>..:: e-prev :: Lista Modelos ::..</title>
<!-- InstanceEndEditable --> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- Fireworks MX Dreamweaver MX target.  Created Mon Apr 21 18:21:40 GMT-0300 (Hora padrão leste da Am. Sul) 2003-->
<!-- ==================== Galeria de estilos ========================================== --> 
<link href="main.css" rel="stylesheet" type="text/css">
<!-- ==================== Scripts Java ================================================ --> 
<script language="JavaScript" type="text/JavaScript" src="inc/menu_principal.js"></script>
<script language="JavaScript">
// ---------------------------------- Carrega as imagens dos menus suspensos
function pre_carga_imagens() {
<!-- INCLUDE BLOCK : inc/menu_geral1.tpl -->
}
</script>
<!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
</head>
<!-- ==================== Corpo da Tela ==================================================== -->
<body bgcolor="{bgcolor}" background="{c_skin}{img_fundo_pagina}" text="{text}" link="{link}" vlink="{vlink}" alink="{alink}" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" onLoad="pre_carga_imagens(); chama_fnc_onload();" onbeforeunload='saida_direta(); return confirma_saida();'>
<!-- ==================== Menus de primeiro nível ========================================================== --> 
<!-- INCLUDE BLOCK : inc/menu_geral2.tpl -->
<!-- ==================== Área livre ======================================================================= --> 
<!-- INCLUDE BLOCK : inc/menu_geral3.tpl -->
<!-- ==================== Camadas sobrepostas ============================================================== -->
<!-- INCLUDE BLOCK : inc/menu_geral4_camadas_sobrepostas.tpl -->
<!-- ==================== Menu Principal =================================================================== -->
<!-- INCLUDE BLOCK : inc/menu_geral5_menu_principal.tpl -->
<!-- -------------------- Mensagem individual por tela ----------------------------------------------------------------------------------- -->
<div id="mensagem_tela" style="position:absolute; width:{larg_msgt}px; height:{alt_msgt}px; z-index:1; left: {pos_msgt}px; top: {top_msgt}px;">
	<!-- InstanceBeginEditable name="mensagem_tela" -->{mensagem_tela}<!-- InstanceEndEditable -->
</div>  
<!-- -------------------- Versão e usuário atual ----------------------------------------------------------------------------------- -->
<div id="versao" style="position:absolute; width:277px; height:28px; z-index:1; left: {pos_usuario}px; top: {top_usuario}px; visibility: {visibilidade_usuario};"><span class="{classe_usuario}">Versão 2006.7 - </span><a href="cad_recurso_workspace.php" class="{classe_usuario}" title="{dt_login}{dt_scanner}"><!-- InstanceBeginEditable name="usuario" -->{usuario} - {divsao}<!-- InstanceEndEditable --></a><br>
</div>  
<!-- ==================== Área principal da tela =========================================================== -->	
<table border="0" cellpadding="0" cellspacing="0" width="{largura_tela}">
  <!--DWLayoutTable-->
  <!-- fwtable fwsrc="layout abertura_compacta.png" fwbase="default.jpg" fwstyle="Dreamweaver" fwdocid = "742308039" fwnested="0" -->
  <tr> 
    <td background="{c_menu}{img_fundo_sup}" bgcolor="{cor_sup_banner}" height="{altura_sup_banner}"><a href="http://www.e-prev.com.br/controle_projetos/index.php" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image01','','{c_menu}logo_swap.gif',1)"><img src="{c_menu}logo.gif" alt="Página inicial" name="Image01" border="0" hspace="{espaco_superior}" vspace="{espaco_vertical}" {largura_banner}{altura_banner}></a></td>
  </tr>
  <tr> 
    <td bgcolor="{cor_fundo_banner}" background="{c_menu}img_fundo_banner.jpg" height="{altura_banner}" class="{classe_banner}"><!-- InstanceBeginEditable name="imagem" --><table border="0" cellpadding="0" cellspacing="0" height="90%" style="border-collapse: collapse; white-space:nowrap;"><tr><td><img src="{c_banner}banner_sem_texto.jpg" class="banner_img" border="0"></td><td height="90%" class="banner_titulo"><p>Lista Modelos</p></td></tr></table>	<!-- InstanceEndEditable --></td>
  </tr>
  <tr> 
    <td height="{altura_inf_banner}" colspan="2" bgcolor="{cor_inf_banner}" background="{c_menu}{img_fundo_menu}"><img src="{c_menu}img_inicial_menu.jpg" border="0" alt="" {largura_banner}{altura_banner}></td>
  </tr>
  <tr> 
    <td height="{alt_menu_principal}" valign="top" background="{c_menu}img_fundo_menu3.jpg" bgcolor="{cor_inf_banner}"> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0" {largura_banner}{altura_banner}>
        <tr> 
          <td {largura_banner}{altura_banner}><img src="{c_menu}img_paragrafo_skin.jpg" border="0" alt="" {largura_banner}{altura_banner}></td>
        </tr>
      </table></td>
  </tr>
	<tr> 
    <td height="38" colspan="2">
	<!-- InstanceBeginEditable name="conteudo" -->	
		<script>
			var ob_window = "";
			function viewER(cd_modelo)
			{
				if(ob_window != "")
				{
					ob_window.close();
				}

				var ds_url = "rel_modelagem_er.php";
					ds_url += "?cd_modelo=" + cd_modelo;
				
				var nr_width  = (screen.width - 10);
				var nr_height = (screen.height - 80);
				var nr_left = ((screen.width - 10) - nr_width) / 2;
				var nr_top = ((screen.height - 80) - nr_height) / 2;

				ob_window = window.open(ds_url, "wViewER", "left="+nr_left+",top="+nr_top+",width="+nr_width+",height="+nr_height+",scrollbars=yes,resizable=yes,directories=no,location=no,menubar=yes,status=no,titlebar=no,toolbar=yes");		 							
			}
			
			function viewPDF(cd_modelo)
			{
				var ds_url = "rel_modelagem_er_pdf.php";
					ds_url += "?cd_modelo=" + cd_modelo;
				
				var nr_width  = (screen.width - 10);
				var nr_height = (screen.height - 80);
				var nr_left = ((screen.width - 10) - nr_width) / 2;
				var nr_top = ((screen.height - 80) - nr_height) / 2;

				window.open(ds_url, "wViewPDF", "left="+nr_left+",top="+nr_top+",width="+nr_width+",height="+nr_height+",scrollbars=yes,resizable=yes,directories=no,location=no,menubar=yes,status=no,titlebar=no,toolbar=yes");		 							
			}			
			
			function saveER()
			{
				if(ob_window != "")
				{
					ob_window.saveER();
				}			
			}
			
			function exibeTabelas(cd_modelo)
			{
				document.getElementById('reg_'+cd_modelo).style.display='';
				document.getElementById('ob_max_'+cd_modelo).style.display='none';
				document.getElementById('ob_min_'+cd_modelo).style.display='';	
				document.getElementById('reg_'+cd_modelo).className ='exibeRevisao';	
				document.getElementById('reg_pai_'+cd_modelo).className ='exibeRevisao';
			}
			
			function ocultaTabelas(cd_modelo)
			{
				document.getElementById('reg_'+cd_modelo).style.display='none';
				document.getElementById('ob_max_'+cd_modelo).style.display='';
				document.getElementById('ob_min_'+cd_modelo).style.display='none';
				document.getElementById('reg_'+cd_modelo).className ='';	
				document.getElementById('reg_pai_'+cd_modelo).className ='';
			}		

			function adicionarModelo(ds_esquema,ds_tabela)
			{
				document.getElementById('ds_esquema').value  = ds_esquema;
				document.getElementById('ds_tabela').value   = ds_tabela;
				document.getElementById('formulario').action = 'cad_modelagem_tabelas.php';
				document.getElementById('formulario').submit();
			}	

			function detalheTabelas(ds_esquema,ds_tabela) 
			{
				document.getElementById('ds_esquema').value  = ds_esquema;
				document.getElementById('ds_tabela').value   = ds_tabela;
				document.getElementById('formulario').action = 'det_modelagem_tabelas.php';
				document.getElementById('formulario').submit();
			}
		</script>
		<style>
			.tb_cadastro_saida{
				border-collapse: collapse;
				width: 60%;
				background:#F4F4F4;
			}
			
			.tb_cadastro_saida *{
				font-size: 10pt;
				font-weight: normal;
				font-family: Arial,'MS Sans Serif';			
			}

			.tb_cadastro_saida th{
				border: 1px solid gray;
				padding-left:5px;
				padding-right:5px;
				text-align:center;	
				font-weight: bold;
				color:#000000;
				background:#C8D0C8;
			}
			
			.tb_cadastro_saida td{
				border: 1px solid gray;
				padding-left:5px;
				padding-right:5px;	
			}
		
			.tb_lista_resultado {
				border-collapse: collapse;
				width: 60%;		
			}
			
			.tb_lista_resultado * {
				font-size: 10pt;
				font-weight: normal;
				font-family: Arial,'MS Sans Serif';			
			}
			
			.tb_lista_resultado th {
				font-size: 10pt;
				font-weight: bold;	
				text-align:center;
				border: 1px solid #CCCCCC;
				color:#FFFFFF;
				background:#006633;
			}
			.tb_lista_resultado td {
				padding-left: 5px;
				padding-right: 5px;
				border: 1px solid #CCCCCC;
			}		
			
			.tb_resultado_selecionado {
				background:#E6E8B6;
				border:1px #FAD163 solid;
				cursor:pointer;
			}
			
			.exibeRevisao {
				background:#FFF7D7;
				border:1px #FAD163 solid;
			}	
			.exibeRevisao th{
				background:#FAD163;
				border:1px #FAD163 solid;
				padding-left:5px;
				padding-right:5px;
				text-align:center;	
				font-weight: bold;
				color:#000000;	
				
			}
			.exibeRevisao td{
				background:#FFF7D7;
				border:1px #FAD163 solid;
			}			
		</style>
		<form name="formulario" id="formulario" method="post" action="">	
			<input type="hidden" name="ds_esquema" id="ds_esquema" value="">
			<input type="hidden" name="ds_tabela"  id="ds_tabela"  value="">			
		</form>	
		<div style="position: absolute; left: 20%;">
			<span class="links2">&raquo;Total de registros: 
			<!-- START BLOCK : qt_total_reg -->
				{qt_total_reg}
			<!-- END BLOCK : qt_total_reg -->
		</span>
		</div>		
		<div style="position: absolute; left: 70%;">
			<a href="cad_modelagem_modelos.php" class="links2">&raquo;Criar novo modelo</a>
		</div>	
		<br>		
		<table class="tb_lista_resultado" align="center">
			<tr >
		
				<th width="80px">
					Legenda
				</th>
				<th>
					Modelo
				</th>		
				<th width="10%">
					Qt Tabelas
				</th>					
				<th width="10%">
					Tabelas
				</th>				
				<th width="10%" title="Modelo Entidade e Relacionamento">
					MER
				</th>
			</tr>
			<!-- START BLOCK : lst_modelos -->
			<tr  id="reg_pai_{cd_modelo}" bgcolor="{bg_color}">
				<td >
					<div style="width:100%; height:100%; background:#{ds_cor};">
						<br>
					</div>
				</td>
				<td style="white-space:nowrap;">
					<a href="cad_modelagem_modelos.php?cd_modelo={cd_modelo}" title="Cliquer para editar">{ds_modelo}</a>
				</td>						
				<td style="white-space:nowrap;text-align:center;">
					{qt_tabela}
				</td>				
				<td style="white-space:nowrap;text-align:center;">
					<img id="ob_max_{cd_modelo}" src="img/max.png" onclick="exibeTabelas('{cd_modelo}')" style="cursor: pointer;" title="Exibir tabelas do modelo">
					<img id="ob_min_{cd_modelo}" src="img/min.png" onclick="ocultaTabelas('{cd_modelo}')" style="cursor: pointer; display: none;" title="Ocultar tabelas do modelo">				
					<img src="img/table_add.png" onclick="document.location.href='lst_modelagem_tabelas.php'" style="cursor: pointer;" title="Adicionar tabela ao modelo">
				</td>				
				<td style="white-space:nowrap;text-align:center;cursor:pointer;" >
					<img src="img/table_multiple.png" border="0" onclick="viewER('{cd_modelo}')"  title="Clique para visualizar/editar o modelo">
					<img src="img/pdf_icon.gif" border="0" onclick="viewPDF('{cd_modelo}')"  title="Clique para gerar PDF do modelo">
				</td>	
			</tr>
			<tr id="reg_{cd_modelo}" bgcolor="{bg_color}" style="display:none;">
				<td colspan="5" style="padding-top:3px; padding-bottom:3px;">
					<table class="tb_lista_resultado" align="center">
						<tr>
							<th>
								Modelo
							</th>
						    <th>
								Esquema
							</th>
							<th>
								Tabela
							</th>						
							<th>
								<br>
							</th>				
							<th>
								<br>
							</th>							
						</tr>
						<!-- START BLOCK : lst_tabelas -->
						<tr bgcolor="{bg_color}" onmouseover="this.className='tb_resultado_selecionado';" onmouseout="this.className='';">
							<td style="white-space:nowrap;">
								{ds_modelo_principal}
							</td>							
							<td style="white-space:nowrap;">
								{ds_esquema}
							</td>
							<td style="white-space:nowrap;">
								{ds_tabela}
							</td>						
							<td style="white-space:nowrap;text-align:center;" onclick="adicionarModelo('{ds_esquema}','{ds_tabela}');" title="Clique para definir o(s) modelo(s)">
								<img src="img/relaciona_tabela.png" border="0" >
							</td>	
							<td style="white-space:nowrap;text-align:center;" >
								<img src="img/exclamation.png"   border="0" style="{fl_erro}" title="Erro tabela dropada ou renomeada verifique">
								<img src="img/table_detalhe.png" border="0" style="{fl_deta}" title="Visualizar detalhes da tabela" onclick="detalheTabelas('{ds_esquema}','{ds_tabela}');">
							</td>	
						</tr>
						<!-- END BLOCK : lst_tabelas -->
					</table>					
				</td>
			</tr>
			<!-- END BLOCK : lst_modelos -->
		</table>
		<BR>
		<BR>
	<!-- InstanceEndEditable --> 
    </td>
	</tr>
</table>
<!-- ==================== Fim da área principal da tela =========================================================== -->	
</body>
<!-- InstanceEnd --></html>